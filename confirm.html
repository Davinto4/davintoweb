import { useState } from "react"; import { getDatabase, ref, push, serverTimestamp } from "firebase/database"; import { initializeApp } from "firebase/app"; import { Card, CardContent } from "@/components/ui/card"; import { Button } from "@/components/ui/button"; import Loader from "@/components/ui/loader"; import successSound from "@/assets/success.mp3";

const firebaseConfig = { apiKey: "AIzaSyBz7fdasuQLxIFLq2TJzPAQrDTJq6h_YT8", authDomain: "davintoweb-payments.firebaseapp.com", databaseURL: "https://davintoweb-payments-default-rtdb.firebaseio.com", projectId: "davintoweb-payments", storageBucket: "davintoweb-payments.appspot.com", messagingSenderId: "667742200333", appId: "1:667742200333:web:cf75f6cef6798eed432b44" };

const app = initializeApp(firebaseConfig); const db = getDatabase(app);

export default function ConfirmForm() { const [form, setForm] = useState({ accountName: '', bankName: '', accountNumber: '', phone: '', email: '', message: '' }); const [loading, setLoading] = useState(false); const [success, setSuccess] = useState(false);

const handleChange = (e) => { setForm({ ...form, [e.target.name]: e.target.value }); };

const handleSubmit = async (e) => { e.preventDefault(); setLoading(true); const formRef = ref(db, 'confirmations'); await push(formRef, { ...form, timestamp: serverTimestamp() }); setLoading(false); setSuccess(true); new Audio(successSound).play(); setForm({ accountName: '', bankName: '', accountNumber: '', phone: '', email: '', message: '' }); setTimeout(() => setSuccess(false), 4000); };

return ( <div className="flex justify-center items-center min-h-screen p-4"> <Card className="w-full max-w-md bg-white dark:bg-gray-900 shadow-xl rounded-2xl p-6"> <CardContent> <h2 className="text-2xl font-bold text-center mb-6">Confirm Your Payment</h2> {loading ? ( <Loader /> ) : success ? ( <div className="text-center text-green-600 font-medium animate-pulse"> âœ… Payment confirmation submitted! </div> ) : ( <form onSubmit={handleSubmit} className="space-y-4"> <input name="accountName" value={form.accountName} onChange={handleChange} placeholder="Account Name" required className="w-full p-2 border rounded" /> <input name="bankName" value={form.bankName} onChange={handleChange} placeholder="Bank Name" required className="w-full p-2 border rounded" /> <input name="accountNumber" value={form.accountNumber} onChange={handleChange} placeholder="Account Number" required className="w-full p-2 border rounded" /> <input name="phone" value={form.phone} onChange={handleChange} placeholder="Phone Number" required className="w-full p-2 border rounded" /> <input name="email" value={form.email} onChange={handleChange} placeholder="Email" required className="w-full p-2 border rounded" /> <textarea name="message" value={form.message} onChange={handleChange} placeholder="Message" rows="3" className="w-full p-2 border rounded"></textarea> <Button type="submit" className="w-full">Submit</Button> </form> )} </CardContent> </Card> </div> ); }

